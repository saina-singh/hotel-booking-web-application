{% extends 'base.html' %}
{% block body %}

<div class="container my-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <h2 class="fw-bold mb-0">Admin Dashboard</h2>
      <div class="text-muted">
        Welcome, {{ session.get('email') }}
      </div>
    </div>

  </div>

  <div class="card shadow-sm mb-4">
    <div class="card-body d-flex justify-content-between align-items-center">
      <div>
        <div class="text-muted">Total Users</div>
        <div class="fs-3 fw-bold">{{ total_users }}</div>
      </div>
    </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <h5 class="fw-bold mb-3">Users</h5>

      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th style="width: 80px;">ID</th>
              <th>Name</th>
              <th>Email</th>
              <th style="width: 130px;">Role</th>
              <th style="width: 120px;">Status</th>
            </tr>
          </thead>

          <tbody>
            {% for u in users %}
            <tr>
              <td>{{ u.user_id }}</td>
              <td class="fw-semibold">{{ u.first_name }} {{ u.last_name }}</td>
              <td>{{ u.email }}</td>
              <td>
                <span class="badge {% if u.role == 'ADMIN' %}bg-dark{% else %}bg-secondary{% endif %}">
                  {{ u.role }}
                </span>
              </td>
              <td>
                {% if u.is_active == 1 %}
                <span class="badge bg-success">Active</span>
                {% else %}
                <span class="badge bg-warning text-dark">Inactive</span>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>

        </table>
      </div>
    </div>
  </div>

</div>

{% endblock %}