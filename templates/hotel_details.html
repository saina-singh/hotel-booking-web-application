{% extends 'base.html' %}
{% block head %}
<title>{{ hotel.hotel_name }} • Rooms</title>
{% endblock %}

{% block body %}

<!-- ===== HOTEL IMAGE BANNER ===== -->
<div class="container my-4">
  <img src="{{ url_for('static', filename=hotel.img) }}" class="w-100 rounded-4" style="height:420px; object-fit:cover;"
    alt="{{ hotel.hotel_name }}">
</div>

<div class="container my-4">

  <!-- Breadcrumb -->
  <div class="mb-3">
    <a href="{{ url_for('hotels') }}" class="text-decoration-none text-muted">Hotels</a>
    <span class="text-muted"> / </span>
    <span class="fw-semibold">{{ hotel.hotel_name }}</span>
  </div>

  <!-- Hotel title -->
  <div class="mb-4">
    <h2 class="fw-bold mb-1">{{ hotel.hotel_name }}</h2>
    {% if season %}
    <span class="badge bg-success mb-2">
      {{ season }} season pricing
    </span>
    {% endif %}
    <div class="text-muted">{{ hotel.city }} • {{ hotel.address }}</div>
  </div>

  <!-- Rooms list -->
  <div class="row g-4">
    {% for r in rooms %}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">

        <img src="{{ url_for('static', filename=r.img) }}" class="card-img-top" style="height:220px; object-fit:cover;"
          alt="{{ r.code }}">

        <div class="card-body d-flex flex-column">
          <h5 class="fw-bold mb-1">{{ r.code }}</h5>

          <div class="text-muted small mb-2">
            Max guests: {{ r.max_guests }} • Available: {{ r.rooms_count }}
          </div>

          <div class="mb-2 text-muted small">
            {{ r.features }}
          </div>

          <div class="mt-auto">
            <div class="fw-bold mb-2">
              From £{{ r.nightly_from_gbp }}/night
            </div>

            <a href="{{ url_for('room_details', hotel_id=hotel.hotel_id, room_code=r.code) }}"
              class="btn btn-dark w-100">
              View Room
            </a>
          </div>
        </div>

      </div>
    </div>
    {% endfor %}
  </div>

</div>

{% endblock %}