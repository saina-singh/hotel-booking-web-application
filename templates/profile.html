{% extends 'base.html' %}

{% block head %}
<title>My Profile</title>
{% endblock %}

{% block body %}
<div class="container my-4" style="max-width: 800px;">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <h2 class="fw-bold mb-0">My Profile</h2>
      <div class="text-muted">
        Role: {{ me.role }} â€¢ Status:
        {% if me.is_active == 1 %} Active {% else %} Inactive {% endif %}
      </div>
    </div>

    {% if session.get('role') == 'ADMIN' %}
    <a href="{{ url_for('admin_dashboard') }}" class="btn btn-outline-dark btn-sm">Back to Admin</a>
    {% else %}
    <a href="{{ url_for('user_dashboard') }}" class="btn btn-outline-dark btn-sm">Back to Dashboard</a>
    {% endif %}
  </div>

  {% if msg %}
  <div class="alert alert-info">{{ msg }}</div>
  {% endif %}

  <div class="card shadow-sm">
    <div class="card-body">
      <form method="POST">

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label fw-semibold">First Name</label>
            <input name="first_name" class="form-control" value="{{ me.first_name }}" required>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold">Last Name</label>
            <input name="last_name" class="form-control" value="{{ me.last_name }}" required>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold">Email (locked)</label>
            <input class="form-control" value="{{ me.email }}" disabled>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold">Phone</label>
            <input name="phone" class="form-control" value="{{ me.phone or '' }}" placeholder="Optional">
          </div>

          <div class="col-md-12">
            <label class="form-label fw-semibold">User ID</label>
            <input class="form-control" value="{{ me.user_id }}" disabled>
          </div>
        </div>

        <div class="d-flex gap-2 mt-4">
          <button class="btn btn-dark">Save Changes</button>
          <a class="btn btn-outline-dark" href="{{ url_for('profile') }}">Reset</a>
        </div>

      </form>
    </div>
  </div>

</div>
{% endblock %}